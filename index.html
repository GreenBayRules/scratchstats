<!DOCTYPE html>
<html>
   <head>
      <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-81213477-3', 'auto');

</script>
      <title>Stats | ScratchStats.cf</title>
      <link rel="stylesheet" href="./index.css">
      <link rel="stylesheet" href="./sweetalert2.min.css">
      <script src="./index.js"></script>
      <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
      </link>
      <script src="./sweetalert2.min.js"></script>
      <script>
function getUser() {
    if(location.hash===""){
        userStatsUpdate("griffpatch");
    }
    else {
        username = location.hash.substring(1);
        userStatsUpdate(username);
    }
}

function newUser(){
    swal({
        title: 'Enter a Scratch Username',
        type: 'warning',
        html: '<br><input id="in" value="griffpatch" placeholder="griffpatch"autofocus/> ',
        showCancelButton: false,
        confirmButtonColor: '#3085d6',
        confirmButtonText: 'Get stats'
    }).then(function () {
        username = document.getElementById('in').value;
        if(username.startsWith("@")){username=username.substring(1);}
        window.location="http://scratchstats.cf/#"+username;
        location.reload();
    });
    document.getElementById('in').select();
    document.getElementById('in').focus();
}

function copy() {
copyTextToClipboard("http://scratchstats.cf/#"+username);
}

function copyTextToClipboard(text) {
  var textArea = document.createElement("textarea");

  //
  // *** This styling is an extra step which is likely not required. ***
  //
  // Why is it here? To ensure:
  // 1. the element is able to have focus and selection.
  // 2. if element was to flash render it has minimal visual impact.
  // 3. less flakyness with selection and copying which **might** occur if
  //    the textarea element is not visible.
  //
  // The likelihood is the element won't even render, not even a flash,
  // so some of these are just precautions. However in IE the element
  // is visible whilst the popup box asking the user for permission for
  // the web page to copy to the clipboard.
  //

  // Place in top-left corner of screen regardless of scroll position.
  textArea.style.position = 'fixed';
  textArea.style.top = 0;
  textArea.style.left = 0;

  // Ensure it has a small width and height. Setting to 1px / 1em
  // doesn't work as this gives a negative w/h on some browsers.
  textArea.style.width = '2em';
  textArea.style.height = '2em';

  // We don't need padding, reducing the size if it does flash render.
  textArea.style.padding = 0;

  // Clean up any borders.
  textArea.style.border = 'none';
  textArea.style.outline = 'none';
  textArea.style.boxShadow = 'none';

  // Avoid flash of white box if rendered for any reason.
  textArea.style.background = 'transparent';


  textArea.value = text;

  document.body.appendChild(textArea);

  textArea.select();

  try {
    var successful = document.execCommand('copy');
    var msg = successful ? 'successful' : 'unsuccessful';
    console.log('Copying text command was ' + msg);
  } catch (err) {
    console.log('Oops, unable to copy');
  }

  document.body.removeChild(textArea);
}

      </script>
   </head>
   <body onload="getUser()">
      <nav>
         <ul id="outerNavBar">
            <ul id="navbar">
               <li class="navbar-item">
                  <a href="./">
                     <center><img src="./icon.png" width="50px"></img></center>
                  </a>
               </li>
               <li class="navbar-item">
                  <a href="./global-stats.html">
                     <div class="navbar-text">
                        <center>Global Stats</center>
                     </div>
                  </a>
               </li>
               <li class="navbar-item">
                  <a href="./about.html">
                     <div class="navbar-text">
                        <center>About</center>
                     </div>
                  </a>
               </li>
            </ul>
         </ul>
      </nav>
      <div id="page">
         <br>
         <br>
         <br>
         <br>
         <center>
         <div class="text-block" style="display:inline-block;">
            <h2 style="display:inline-block;font-size:50px;" class="century">Current User: &nbsp;</h2>
          <b>  <h2 style="display:inline-block;font-size:50px;" id="user" class="century" >Default</h2></b>
          <center>
            <input type="button" class="button"value="Change Username" style="padding-top:5px;" onclick="newUser();"></input>
            <input type="button" class="button"value="Copy URL to stats" onclick="copy()"></input>
            <input id="url" type="textarea" value="https://scratchstats.cf" onchange="url()" onload="url()" style="display:none;"></input></center>
         </div>
       </center>
         &nbsp;
         &nbsp;
         <br>
         <center><iframe scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:325px; height:35px;" allowtransparency="true" id="reactions"></iframe></center>
         <br>
         <div class="text-block statstable" id="followers-content">
            <h3 class="noBottomMargin">Followers</h3>
            <hr>
            <center>
            <table>
               <td>
                  <div style="display:block;" id="following" class="answer">.</div>
                  <div style="display:block;" class="question">Following</div>
               </td>
               <td>
                  <div style="display:block;" id="followers" class="answer">.</div>
                  <div style="display:block;" class="question">Followers</div>
               </td>
               <td>
                  <div style="display:block;" id="avgFollowersHour" class="answer">.</div>
                  <div style="display:block;" class="question">Average Followers Per Hour</div>
               </td>
               <td>
                  <div style="display:block;" id="avgFollowersDay" class="answer">.</div>
                  <div style="display:block;" class="question">Average Followers Per Day</div>
               </td>
               <td>
                  <div style="display:block;" id="avgFollowersMonth" class="answer">.</div>
                  <div style="display:block;" class="question">Average Followers Per Month</div>
               </td>
               <td>
                  <div style="display:block;" id="avgFollowersYear" class="answer">.</div>
                  <div style="display:block;" class="question">Average Followers Per Year</div>
               </td>
            </table>
            </center>
         </div>

         <br>
         <br>
         <br>
         <div class="text-block statstable" id="mostProjectStats">
            <h3 class="noBottomMargin">Most Loved/Liked/Commented/Viewed projects</h3>
            <hr>
            <center>
            <table>
               <td class="project">
                  <center><div style="display:block;" id="mostLoved" class="special thumbnail">.</div></center>
                  <div style="display:block;" class="question"><b>Most üíñ Project</b></div>
               </td>
               <!-- <td>
                  <div style="display:block;" id="mostFavorited" class="special thumbnail">.</div>
                  <div style="display:block;" class="question">Most ‚≠ê Project</div>
               </td> -->
               <td class="project">
                  <center><div style="display:block;" id="mostLiked" class="special thumbnail">.</div></center>
                  <div style="display:block;" class="question"><b>Most üëç Project (üíñ-üëÅÔ∏è ratio)</b></div>
               </td>
               <td class="project">
                  <center><div style="display:block;" id="mostViewed" class="special thumbnail">.</div></center>
                  <div style="display:block;" class="question"><b>Most üëÅÔ∏è Project</b></div>
               </td>
               <td class="project">
                  <center><div style="display:block;" id="mostCommented" class="special thumbnail">.</div></center>
                  <div style="display:block;" class="question"><b>Most üí¨ Project</b></div>
               </td>

            </table>
            </center>
         </div>
         <br>
         <br>
         <br>
         <div class="text-block statstable" id="averageProjectStats">
            <h3 class="noBottomMargin" style="display:inline-block;">Average Project Stats</h3>

            <hr>
            <center>
            <table>
               <td>
                  <center><div style="display:block;" id="averageLoves" class="answer">.</div></center>
               </td>
               <td>
                  <div style="display:block;" id="averageFaves" class="answer">.</div>
               </td>
               <td>
                  <center><div style="display:block;" id="averageViews" class="answer">.</div></center>
               </td>
               <td>
                  <center><div style="display:block;" id="averageCommented" class="answer">.</div></center>
               </td>
               <td>
                  <center><div style="display:block;" id="averageLiked" class="answer">.</div></center>
               </td>

            </table>
            </center>
         </div>
         <br>
         <br>
         <br>
         <div class="text-block statstable" id="totalProjectStats">
            <h3 class="noBottomMargin" style="display:inline-block;">Total Loves/Faves/Comments/Views</h3>

            <hr>
            <center>
            <table>
               <td>
                  <center><div style="display:block;font-size:49px;" id="totalLoves" class="answer"></div></center>
               </td>
               <td>
                  <div style="display:block;font-size:49px;" id="totalFaves" class="answer"></div>
               </td>
               <td>
                  <center><div style="display:block;font-size:49px;" id="totalViews" class="answer"></div></center>
               </td>
               <td>
                  <center><div style="display:block;font-size:49px;" id="totalComments" class="answer"></div></center>
               </td>

            </table>
            </center>
         </div>
         <br>
         <br>
         <br>
         <div class="text-block statstable" id="averageProjectStats">
            <h3 class="noBottomMargin" style="display:inline-block;">Average Loves/Faves/Comments/Views Per &nbsp;</h3>
            <select id="year"style="display:inline-block;height: 40px;    width: 100px;    vertical-align: super;">
              <option value="year" id="yearoption">Year</option>
              <option value="month" id="monthoption">Month</option>
              <option value="day">Day</option>
            </select>

            <hr>
            <center>
            <table>
               <td>
                  <center><div style="display:block;" id="averageTotalLoves" class="answer">.</div></center>
               </td>
               <td>
                  <div style="display:block;" id="averageTotalFaves" class="answer">.</div>
               </td>
               <td>
                  <center><div style="display:block;" id="averageTotalViews" class="answer">.</div></center>
               </td>
               <td>
                  <center><div style="display:block;" id="averageTotalCommented" class="answer">.</div></center>
               </td>

            </table>
            </center>
         </div>
         <br>
         <br>
         <br>
         <div class="text-block statstable" id="average-content">
           <h3 class="noBottomMargin">Miscellaneous:</h3>
           <hr>
            <center>
           <table>
             <td>
               <div style="display:block;" id="i" class="answer">
         <img id="icon" style="height:58px;width:58px;" src="https://cdn2.scratch.mit.edu/get_image/user/2641_60x60.png"></img>
       </div>
       <div style="display:block;" class="question">Icon</div>
     </td>
     <td>
       <div style="display:block;" id="joined" class="answer">.</div>
       <div style="display:block;" class="question">Join Date</div>
     </td>
     <td>
       <div style="display:block;" id="id" class="answer">.</div>
       <div style="display:block;" class="question">ID Number</div>
     </td>
     <td>
       <div style="display:block;" id="messageCount" class="answer">.</div>
       <div style="display:block;" class="question">Current Message Count</div>
     </td>
     <td>
       <div style="display:block;" id="amtOfLovedProjects" class="answer">.</div>
       <div style="display:block;" class="question">Projects loved last year</div>
     </td>
       </table>
         </center>
       </div>
       <br>
       <br>
       <br>
       <br>
       <br>
       <br>
       <br>
       <br>

       <div class="text-block" id="footer">
         <br>
<small>
<small>
  <center>
Note: We collect some data using Google Analytics. Information collected and processed by Google Analytics includes the network location, URLs visited and geographic location. Google Analytics acquires all its information directly from the user, by installing a cookie on your computer, if you have enabled JavaScript. Google does not collect any personally identifying information about you.
</center>
</small>
</small>
</div>
      </div>
   </body>
</html>
